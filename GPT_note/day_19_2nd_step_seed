ğŸ¯ ä»»å‹™ç›®æ¨™ï¼šä½¿ç”¨ SQLAlchemy ç¨‹å¼è‡ªå‹•æ’å…¥è³‡æ–™

ä½ å°‡å¯«ä¸€æ”¯ç¨ç«‹çš„ Python è…³æœ¬ seed.pyï¼ŒåŸ·è¡Œå¾Œè‡ªå‹•å»ºç«‹ä¸‹åˆ—è³‡æ–™ï¼š
âœ… ä»»å‹™éœ€æ±‚å…§å®¹
ğŸ”¹ 1. é¡§å®¢è³‡æ–™ï¼ˆ5 ç­†ï¼‰
å§“å	Email
å°æ˜	ming@example.com
å°è¯	hua@example.com
å°ç¾	mei@example.com
å°å¼·	chiang@example.com
å°ç¶ 	green@example.com
ğŸ”¹ 2. å•†å“è³‡æ–™ï¼ˆ5 ç­†ï¼‰
å•†å“åç¨±	å–®åƒ¹
è€³æ©Ÿ	800
æ»‘é¼ 	600
éµç›¤	1200
è¢å¹•	4000
éŸ³éŸ¿	2500
ğŸ”¹ 3. è¨‚å–®è³‡æ–™ï¼ˆ10 ç­†ï¼‰

æ¯ç­†åŒ…å«ï¼š

    customer_idï¼šå¾ç¾æœ‰é¡§å®¢ä¸­éš¨æ©ŸæŒ‘é¸

    product_idï¼šå¾ç¾æœ‰å•†å“ä¸­éš¨æ©ŸæŒ‘é¸

    quantityï¼š1~5 éš¨æ©Ÿæ•¸

    order_dateï¼šåˆ†å¸ƒåœ¨ 2024-01-01 ~ 2024-03-31 çš„æ—¥æœŸ

âœï¸ é¡å¤–é™åˆ¶ï¼ˆè®“ä½ ç·´é‚è¼¯ï¼‰ï¼š

    è«‹ä¸è¦æ‰‹å‹•å¡«å¯« id

    ä½¿ç”¨ datetime èˆ‡ random è‡ªå‹•ç”Ÿæˆæ—¥æœŸèˆ‡æ•¸é‡

    æœ€å¾Œå°å‡ºã€ŒæˆåŠŸæ’å…¥å¹¾ç­†é¡§å®¢ã€å•†å“èˆ‡è¨‚å–®è³‡æ–™ã€

ğŸ“ å»ºè­°æª”æ¡ˆçµæ§‹

ä½ å¯å»ºç«‹ä¸€æ”¯æ–°æª” seed.pyï¼Œä¸¦å¼•ç”¨ models.py ä¸­çš„ session, Product, Customer, Orderã€‚
âœ… å®Œæˆå¾Œæˆ‘æœƒå¹«ä½ æª¢æŸ¥ï¼š

    è³‡æ–™æ˜¯å¦æ­£ç¢ºæ’å…¥ï¼ˆæˆ‘æœƒçµ¦ä½ æŸ¥è©¢æ–¹å¼ï¼‰

    æ˜¯å¦ç¬¦åˆéš¨æ©Ÿæ€§èˆ‡è³‡æ–™é‚è¼¯

    çµæœæ˜¯å¦èˆ‡ä½ çš„è³‡æ–™è¡¨é—œè¯è¨­å®šæ­£ç¢ºé€£å‹•ï¼ˆorder â†’ product / customerï¼‰

âœ… å¦‚ä½•ç”¢ç”Ÿéš¨æ©Ÿæ—¥æœŸï¼ˆç¯„ä¾‹ç¨‹å¼ç¢¼ï¼‰

ä½ å¯ä»¥ç”¨é€™æ®µæ–¹å¼ç”¢ç”Ÿï¼š

import random
from datetime import datetime, timedelta

def random_date(start, end):
    """å¾ start åˆ° end ä¹‹é–“ç”¢ç”Ÿéš¨æ©Ÿ datetime"""
    delta = end - start
    random_days = random.randint(0, delta.days)
    return start + timedelta(days=random_days)

# ç¯„åœå®šç¾©
start_date = datetime(2024, 1, 1)
end_date = datetime(2024, 3, 31)

# æ¸¬è©¦éš¨æ©Ÿæ—¥æœŸ
for _ in range(3):
    print(random_date(start_date, end_date))

ğŸ“Œ æ•´åˆåˆ°ä½ çš„è¨‚å–®è³‡æ–™ï¼š

åœ¨ä½ å»ºç«‹ Order çš„æ™‚å€™å¯ä»¥é€™æ¨£ç”¨ï¼š

order = Order(
    customer_id=random.choice(customers).id,
    product_id=random.choice(products).id,
    quantity=random.randint(1, 5),
    order_date=random_date(start_date, end_date)
)

åªè¦ä½  Order çš„ order_date æ¬„ä½æ˜¯ DateTimeï¼Œé€™æ¨£å¡é€²å»å®Œå…¨æ²’å•é¡Œã€‚