âœ… ç¬¬ä¸€æ®µï¼šcustomer_name = request.args.get("customer")
ğŸŒ± ä¸­æ–‡è§£é‡‹ï¼š

å¾ç¶²å€ /orders?customer=å°æ˜ è£¡ï¼Œå–å‡ºã€Œcustomerã€é€™å€‹æ¬„ä½çš„å€¼ã€‚
ğŸ“Œ èªæ³•çµæ§‹è§£é‡‹ï¼š

request.args.get("customer")

åç¨±	è§£é‡‹
request	Flask æä¾›çš„å°è±¡ï¼Œä»£è¡¨ã€Œé€™æ¬¡ä½¿ç”¨è€…çš„è«‹æ±‚ã€
.args	å–å¾—ã€Œç¶²å€åƒæ•¸ã€çš„å­—å…¸ï¼ˆåƒ ?key=valueï¼‰
.get("customer")	å¾å­—å…¸ä¸­å–å‡º key ç‚º "customer" çš„å€¼ï¼ˆä¾‹å¦‚æ˜¯ã€Œå°æ˜ã€ï¼‰

    âœ… é€™è·Ÿå­—å…¸ .get() æ˜¯ä¸€æ¨£çš„æ¦‚å¿µï¼

âœ… ç¬¬äºŒæ®µï¼šquery = session.query(Order)

ä½ å¯èƒ½ä»¥å‰å¯«éé€™æ¨£çš„ï¼š

orders = session.query(Order).all()

ç¾åœ¨æˆ‘å€‘åªæ˜¯æŠŠå®ƒã€Œå…ˆæ‹†é–‹ã€ï¼Œé€™æ¨£å¯ä»¥ï¼š

    å…ˆå®šç¾© query è®Šæ•¸

    å†æ ¹æ“šæ¢ä»¶æ±ºå®šè¦ä¸è¦åŠ  .filter(...)

    æœ€å¾Œç”¨ .all() æŠŠè³‡æ–™å–å‡º

é€™æ¨£çš„å¯«æ³•å¥½è™•æ˜¯ï¼š
âœ… æœ‰å½ˆæ€§ï¼Œå¯ä»¥æ ¹æ“šä¸åŒæ¢ä»¶ï¼ˆé¡§å®¢ã€æ—¥æœŸã€å•†å“ï¼‰åˆ†æ®µåŠ ä¸Šå»æŸ¥è©¢æ¢ä»¶
âœ… ç¬¬ä¸‰æ®µï¼š.join(Order.customer).filter(Customer.name == customer_name)
ğŸŒ± ä¸­æ–‡è§£é‡‹ï¼š

è®“æŸ¥è©¢çš„ Order è·Ÿ Customer ç”¢ç”Ÿé—œè¯ï¼Œç„¶å¾Œåªç•™ä¸‹ Customer.name ç¬¦åˆæ¢ä»¶çš„çµæœã€‚
ğŸ“Œ èªæ³•æ‹†è§£èªªæ˜ï¼š

query = query.join(Order.customer)
query = query.filter(Customer.name == customer_name)

èªæ³•	æ„ç¾©
.join(Order.customer)	SQL çš„ JOINï¼šè®“ Order è¡¨å’Œ Customer è¡¨ç”¢ç”Ÿé—œè¯ï¼ˆæ ¹æ“šå¤–éµ customer_idï¼‰
.filter(...)	åŠ å…¥æ¢ä»¶ç¯©é¸ï¼šåªè¦ name == "å°æ˜" çš„é¡§å®¢

    â—é€™è£¡çš„ .join(...) æ˜¯ SQL çš„ joinï¼Œä¸æ˜¯ list çš„ .join()ï¼ˆé‚£å€‹æ˜¯å­—ä¸²ç”¨çš„ï¼‰

ğŸ“˜ å°ç­†è¨˜ï¼šSQLAlchemy çš„ .join(...) å’Œ list çš„ .join(...) å·®åœ¨å“ªï¼Ÿ
èªæ³•é¡å‹	åŠŸèƒ½	ç¯„ä¾‹
list.join()	å­—ä¸²çµ„åˆ	"ã€".join(["A", "B", "C"]) â†’ Aã€Bã€C
query.join()	è³‡æ–™è¡¨é—œè¯æŸ¥è©¢	Order.join(Customer) ç”¨æ–¼å»ºç«‹ SQL é—œè¯å¼æŸ¥è©¢
âœ… æœ€å¾Œé€™è¡Œï¼šorders = query.all()

é€™å°±æ˜¯æŠŠä½ ä¸Šé¢ä¸€å¤§å †æ¢ä»¶çµ„åˆéå¾Œçš„æŸ¥è©¢çµæœçœŸæ­£ã€ŒåŸ·è¡Œã€ï¼Œå–å‡ºè³‡æ–™ã€‚

query = query.join(...)  # æº–å‚™æŸ¥è©¢
query = query.filter(...)  # åŠ å…¥æ¢ä»¶
orders = query.all()  # æ‹¿è³‡æ–™

